## 闭包

#### 什么是闭包

> 当函数可以记住并访问所在的词法作用域时，就产生了闭包，即使函数是在当前词法作用
> 域之外执行。

用代码来解释一下闭包的效果

```javascript
function foo() {
    var a = 2;
    function bar() {
        console.log( a );
    }
    return bar;
}
var baz = foo();
baz(); // 2 —— 朋友，这就是闭包的效果。
```

函数 `bar()` 的词法作用域能够访问 `foo()` 的内部作用域。在 `foo()` 执行后，通常会期待 `foo()` 的整个内部作用域都被销毁，因为我们知道引擎有垃圾回收器用来释放不再使用的内存空间。而闭包的“神奇”之处正是可以阻止这件事情的发生。事实上内部作用域依然存在，因此没有被回收。`bar()` 依然持有对该作用域的引用，而这个引用就叫作闭包。因此，在几微秒之后变量 `baz `被实际调用（调用内部函数 `bar`），不出意料它可以访问定义时的词法作用域，因此它也可以如预期般访问变量 `a` 。

#### 闭包的用途

目前来看，最常使用闭包的地方是**模块机制**

